{"version":3,"file":"static/js/657.47e53845.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button.module.css?b809","components/Button.jsx","webpack://react-homework-template/./src/components/page/Movies/Searchbar.module.css?ca6f","components/page/Movies/Searchbar.jsx","webpack://react-homework-template/./src/components/page/Movies/Movies.module.css?b5a8","components/page/Movies/Movies.jsx","components/request-api/tmbdRequestApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__JnaVO\"};","import { useNavigate } from 'react-router-dom';\nimport css from './Button.module.css';\n\nconst Button = () => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      className={css.btn}\n      type=\"button\"\n      onClick={() => {\n        navigate(-1, { replase: true });\n      }}\n    >\n      &#11160; Go back\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__mZXQY\",\"input\":\"Searchbar_input__vHJZW\",\"btn\":\"Searchbar_btn__Cmeaa\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Notiflix from 'notiflix';\nimport css from './Searchbar.module.css';\n\nconst Searchbar = ({ submitValue }) => {\n  const [search, setSearch] = useState('');\n\n  const searchInput = ({ target }) => {\n    setSearch(target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (search === '') {\n      Notiflix.Notify.warning('Enter the name of the film');\n      return;\n    }\n    submitValue(search);\n    reset();\n  };\n  const reset = () => {\n    setSearch('');\n  };\n\n  return (\n    <form onSubmit={onSubmit} className={css.form}>\n      <label>\n        <input\n          className={css.input}\n          type=\"text\"\n          value={search}\n          name=\"search\"\n          onChange={searchInput}\n        />\n      </label>\n      <button type=\"submit\" className={css.btn}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchbar.propTypes = {\n  submitValue: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__ruedX\",\"item\":\"Movies_item__-Z7fm\",\"item_link\":\"Movies_item_link__12eKo\",\"title\":\"Movies_title__CHcX2\",\"rating\":\"Movies_rating__0qu7m\",\"btn\":\"Movies_btn__f8w5-\"};","import { useState, useEffect } from 'react';\nimport { NavLink, useSearchParams } from 'react-router-dom';\nimport Searchbar from './Searchbar';\nimport { getSearch } from 'components/request-api/tmbdRequestApi';\nimport Notiflix from 'notiflix';\nimport css from './Movies.module.css';\nimport Button from 'components/Button';\n\nconst Movies = () => {\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchValue = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const fetchSearch = async () => {\n      await getSearch(searchValue).then(({ results }) => {\n        if (results.length === 0) {\n          Notiflix.Report.failure(\n            'Invalid request',\n            '\"No matches were found for your search\" <br/><br/>- Henry Ford',\n            'Okay'\n          );\n          return;\n        }\n\n        setSearchResult(results);\n      });\n    };\n    if (searchValue) {\n      fetchSearch();\n    }\n  }, [searchValue]);\n\n  const submitValue = data => {\n    setSearchParams({ query: data });\n  };\n\n  const renderMovies = searchResult.map(\n    ({ poster_path, original_title, vote_average, id }) => (\n      <li key={id} className={css.item}>\n        <NavLink to={`/Movies/${id}`} className={css.item_link}>\n          <img\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/original/${poster_path}`\n                : `https://static.vecteezy.com/system/resources/previews/003/393/235/original/error-404-with-the-cute-floppy-disk-mascot-free-vector.jpg`\n            }\n            alt=\"\"\n          />\n          <p className={css.title}>{original_title}</p>\n          <p className={css.rating}>{vote_average.toFixed(2)}</p>\n        </NavLink>\n      </li>\n    )\n  );\n\n  return (\n    <div>\n      {searchResult.length !== 0 && (\n        <>\n          <Button />\n          <ul className={css.list}>{renderMovies}</ul>\n        </>\n      )}\n\n      {searchResult.length === 0 && <Searchbar submitValue={submitValue} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","const axios = require('axios').default;\n\nconst API_KEY = 'bddc52dc503f0bc4d00f10b7a0711377';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getTrending = async page => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/week`, {\n    params: {\n      api_key: API_KEY,\n      page,\n    },\n  });\n\n  return data;\n};\n\nexport const getSearch = async query => {\n  const { data } = await axios.get(`${BASE_URL}/search/movie`, {\n    params: {\n      api_key: API_KEY,\n      query,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data;\n};\n\n// export default getTrending;\n"],"names":["navigate","useNavigate","className","css","type","onClick","replase","submitValue","useState","search","setSearch","reset","onSubmit","e","preventDefault","Notiflix","value","name","onChange","target","searchResult","setSearchResult","useSearchParams","searchParams","setSearchParams","searchValue","get","useEffect","fetchSearch","getSearch","then","results","length","renderMovies","map","poster_path","original_title","vote_average","id","to","src","alt","toFixed","Button","data","query","axios","require","API_KEY","BASE_URL","getTrending","page","params","api_key","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}