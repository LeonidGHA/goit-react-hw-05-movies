"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[657],{5657:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(5861),a=r(885),c=r(7757),u=r.n(c),s=r(2791),i=r(501),o="Searchbar_form__mZXQY",p="Searchbar_input__vHJZW",f="Searchbar_btn__Cmeaa",l=r(184),v=function(e){var t=e.submitValue,r=(0,s.useState)(""),n=(0,a.Z)(r,2),c=n[0],u=n[1],i=function(){u("")};return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),i()},className:o,children:[(0,l.jsx)("label",{children:(0,l.jsx)("input",{className:p,type:"text",value:c,name:"search",onChange:function(e){var t=e.target;u(t.value)}})}),(0,l.jsx)("button",{type:"submit",className:f,children:"Search"})]})},m=r(8119),h=r(5562),d=r.n(h),_="Movies_list__ruedX",x="Movies_item__-Z7fm",b="Movies_item_link__12eKo",g="Movies_title__CHcX2",y="Movies_rating__0qu7m",k="Movies_btn__f8w5-",w=function(){var e,t=(0,s.useState)([]),r=(0,a.Z)(t,2),c=r[0],o=r[1],p=(0,i.lr)(),f=(0,a.Z)(p,2),h=f[0],w=f[1],j=null!==(e=h.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.on)(j).then((function(e){var t=e.results;0!==t.length?o(t):d().Report.failure("Invalid request",'"No matches were found for your search" <br/><br/>- Henry Ford',"Okay")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();j&&e()}),[j]);var Z=c.map((function(e){var t=e.poster_path,r=e.original_title,n=e.vote_average,a=e.id;return(0,l.jsx)("li",{className:x,children:(0,l.jsxs)(i.OL,{to:"/Movies/".concat(a),className:b,children:[(0,l.jsx)("img",{src:t?"https://image.tmdb.org/t/p/original/".concat(t):"https://static.vecteezy.com/system/resources/previews/003/393/235/original/error-404-with-the-cute-floppy-disk-mascot-free-vector.jpg",alt:""}),(0,l.jsx)("p",{className:g,children:r}),(0,l.jsx)("p",{className:y,children:n.toFixed(2)})]})},a)}));return(0,l.jsxs)("div",{children:[0!==c.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.OL,{to:"/",children:(0,l.jsx)("button",{type:"button",className:k,children:"\u2b98 Go back"})}),(0,l.jsx)("ul",{className:_,children:Z})]}),0===c.length&&(0,l.jsx)(v,{submitValue:function(e){w({query:e})}})]})}},8119:function(e,t,r){r.d(t,{Hg:function(){return o},TP:function(){return f},on:function(){return p},tx:function(){return v},zv:function(){return l}});var n=r(5861),a=r(7757),c=r.n(a),u=r(4569).default,s="bddc52dc503f0bc4d00f10b7a0711377",i="https://api.themoviedb.org/3",o=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(i,"/trending/movie/week"),{params:{api_key:s,page:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(i,"/search/movie"),{params:{api_key:s,query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(i,"/movie/").concat(t),{params:{api_key:s}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(i,"/movie/").concat(t,"/credits"),{params:{api_key:s}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(i,"/movie/").concat(t,"/reviews"),{params:{api_key:s}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=657.9246f06c.chunk.js.map